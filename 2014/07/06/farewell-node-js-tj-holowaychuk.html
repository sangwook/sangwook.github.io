<!DOCTYPE html>
<html lang="ko">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  
  
  
  

  <meta name="title"       content="&quot;Node.js를 떠나며&quot; - express를 만든 TJ의 글" />
  <meta name="author"      content="이상욱"/>
  <meta name="description" content="원문: Farewell Node.js(TJ가 어제 올린 글. 참고로 TJ Holowaychuk는 Express, Jade, Mocha 등을 만든 Node.js 의 대표적인 프로그래머이다.) Farewell Node.js. node.js 진영을 떠나며.. 나는 충분히 오랫동안 운영환..."/>

  <meta name="og:site_name"    content="이상욱"/>
  <meta name="og:type"         content="article"/>
  <meta name="og:title"        content="&quot;Node.js를 떠나며&quot; - express를 만든 TJ의 글"/>
  <meta name="og:description"  content="원문: Farewell Node.js(TJ가 어제 올린 글. 참고로 TJ Holowaychuk는 Express, Jade, Mocha 등을 만든 Node.js 의 대표적인 프로그래머이다.) Farewell Node.js. node.js 진영을 떠나며.. 나는 충분히 오랫동안 운영환..."/>
  <meta name="og:url"          content="https://sangwook.github.io/2014/07/06/farewell-node-js-tj-holowaychuk.html"/>
  <meta name="og:image"        content="https://sangwook.github.io/assets/2016/161011-ubuntu16-screenfetch-d309a0fce49f7abaf5a95f61a72481466e2187b8b361c52f334b03de5a55c92d.jpg"/>
  <meta name="og:image:width"  content="960"/>
  <meta name="og:image:height" content="436"/>

  <meta name="twitter:card"        content="summary_large_image"/>
  <meta name="twitter:site"        content="@yiisw">
  <meta name="twitter:creator"     content="@yiisw">
  <meta name="twitter:title"       content="&quot;Node.js를 떠나며&quot; - express를 만든 TJ의 글"/>
  <meta name="twitter:description" content="원문: Farewell Node.js(TJ가 어제 올린 글. 참고로 TJ Holowaychuk는 Express, Jade, Mocha 등을 만든 Node.js 의 대표적인 프로그래머이다.) Farewell Node.js. node.js 진영을 떠나며.. 나는 충분히 오랫동안 운영환..."/>
  <meta name="twitter:image"       content="https://sangwook.github.io/assets/2016/161011-ubuntu16-screenfetch-d309a0fce49f7abaf5a95f61a72481466e2187b8b361c52f334b03de5a55c92d.jpg">

  <title>&quot;Node.js를 떠나며&quot; - express를 만든 TJ의 글</title>

  <link type="text/css" rel="stylesheet" href="/assets/main-caae314880d485d51225e30ff81b77cd77bf8582dcd712eda64afdc9c886713c.css">
  <link rel="alternate" type="application/rss+xml" title="이상욱" href="http://feeds.feedburner.com/sangwook">
  <link rel="shortcut icon" href="https://avatars0.githubusercontent.com/u/123514?s=100">
</head>

  <body>
    <header class="site-header" role="banner">

  <div class="wrapper">

    <a href="/" title="sangwook">
      <span style="background-image: url('https://avatars0.githubusercontent.com/u/123514?s=100'); width:100px; height:100px; display:block;">
      </span>
    </a>

    <div class="about-desc">
      이상욱,
      scott,
      ISFP,
      <a href="https://www.facebook.com/2sangwook">facebook</a>,
      <a href="https://twitter.com/yiisw">twitter</a>,
      <a href="https://github.com/sangwook">github</a>,
      <a href="https://open.kakao.com/o/sUbQmYl">카카오톡</a>,
      <a href="https://blog.naver.com/yiisw">네이버</a>,
      <a class="page-link" href="http://feeds.feedburner.com/sangwook">RSS</a>
    </div>

  </div>

</header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">&quot;Node.js를 떠나며&quot; - express를 만든 TJ의 글</h1>
    <p class="post-meta"><time datetime="2014-07-06T14:51:00+09:00" itemprop="datePublished">2014-07-06</time>
     <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="name" itemprop="name">이상욱</span></span></p>
  </header>
  <div class="post-content" itemprop="articleBody">
    <p>원문: <a href="https://medium.com/@tjholowaychuk/farewell-node-js-4ba9e7f3e52b#.r7mljt501">Farewell Node.js</a>(TJ가 어제 올린 글. 참고로 <a href="https://github.com/tj">TJ Holowaychuk</a>는 Express, Jade, Mocha 등을 만든 Node.js 의 대표적인 프로그래머이다.)</p>

<h2 id="farewell-nodejs-nodejs-진영을-떠나며">Farewell Node.js. node.js 진영을 떠나며..</h2>

<ul>
  <li>나는 충분히 오랫동안 운영환경에서의 Node.js 와 싸워왔다.
    <ul>
      <li>그리고 불행하게도 지금은 더이상 재밌게 일할 수 없게 되었다.</li>
      <li>그래서 공식적으로 작별을 고하고, 새로운 maintainers를 찾고 있다.</li>
    </ul>
  </li>
  <li>Node는 어떤 것들에는 좋다, 하지만 결과적으로 내가 요즘 흥미로워하는 종류의 소프트웨어를 만들기 위해선 올바른 도구가 아니었다.
    <ul>
      <li>그래도 여전히 웹사이트에 Node를 사용할 계획이다</li>
      <li>만약 당신이 어떤것을 maintaining 하고 싶다면 알려달라.
        <ul>
          <li>GitHub 사용자명과 NPM 사용자명, 프로젝트명을 남겨달라.</li>
          <li>내가 요구하는 건 기존 API들을 drastically하게 변경하지 말아달라는 것이다.</li>
          <li>만약 그렇게 하고 싶다면 새로운 프로젝트를 시작해라.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">Koa</code>는 내가 계속 maintain하는 프로젝트가 될 것이다.</li>
</ul>

<h2 id="성배-the-holy-grail">성배 <a href="http://ko.wikipedia.org/wiki/%EA%B1%B0%EB%A3%A9%ED%95%9C_%EC%9E%94">(The Holy Grail)</a></h2>

<ul>
  <li>난 항상 <code class="highlighter-rouge">C</code> 를 사랑해왔다.
    <ul>
      <li><code class="highlighter-rouge">C</code> 는 rewarding 하지만 에러를 만들기 쉽다는 것을 알고 있다.</li>
      <li>매일하는 업무를 위해 <code class="highlighter-rouge">C</code> 를 선택하는 것은 정당화하기 힘들다.</li>
      <li>단순한 것에대해 나는 언제나 존경해왔다. 하지만 거대한 양의 boilerplate 없이는 당신은 많은 것을 얻을 수 없다.</li>
    </ul>
  </li>
  <li>분산시스템에서 일을 할 수록. 나는 더욱더 usability(사용성)과 robustness(견고함) 보다 성능을 우선하는 <code class="highlighter-rouge">Node</code>의 방향에 대해 frustrated(좌절, 실망, 짜증) 했다.
    <ul>
      <li>일주일 전부터 나는 상대적으로 큰 분산시스템을 <code class="highlighter-rouge">Go</code>로 다시쓰고 있다.
        <ul>
          <li>그것은 더 견고하고, 더 빠르고, 더 유지보수가 쉽고, 게다가 test coverage도 좋아졌다.
            <ul>
              <li>synchronous code(동기적 코드)가 일반적으로 더 좋고 더 단순하다.</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>난 <code class="highlighter-rouge">Go</code>가 성배라고 말하고 있는게 아니다.
    <ul>
      <li>그것은 완벽하지 않다.</li>
      <li>하지만 오늘까지 존재하는 언어들중 <code class="highlighter-rouge">Go</code>는 나에게 가장 좋은 해결책이다.</li>
      <li><code class="highlighter-rouge">Rust</code> 와 <code class="highlighter-rouge">Julia</code> 같은 “차세대 언어”들은 자신의 자리를 찾고 성숙해지면, 나는 좀더 많은 해결책을 가지게 될 것이라고 확신한다.</li>
    </ul>
  </li>
  <li>개인적으로 <code class="highlighter-rouge">Go</code>에 가장 흥분되는 점은 (Go 언어 프로젝트의) 개발 속도이다.
    <ul>
      <li>그들의 2.0 에 도달하기 위한 열망에 흥분했다.</li>
      <li>그들은 이미 잘 되어있는 것을 부수고 변경하는 것에 너무 걱정하지 않는다.</li>
      <li>(수정: 약간 오해했던것 같다. 그들은 breaking changes에 대한 열망이 언제나 있는건 아닌것 같다.)</li>
    </ul>
  </li>
  <li>이게 진실이면 좋겠다.
    <ul>
      <li>왜냐하면 나는 언어에 이익이 있다면 빠르게 breaking things 하는게 좋다고 믿기 때문이다.</li>
      <li>내가 거대한 시스템을 실행시키고 있는건 아니니까. :D</li>
    </ul>
  </li>
</ul>

<h2 id="why-go">Why Go?</h2>

<ul>
  <li><code class="highlighter-rouge">Node</code>는 여전히 좋은 도구이고, 만약 working 한다면 걱정할 이유가 없다.
    <ul>
      <li>하지만 그것이 당신을 괴롭힌다면, 당신의 box에서 벗어나야 한다는 것을 잊지마라.</li>
      <li>나는 production에 Go를 써본 처음 몇시간만에 Go에 빠지게 되었다.</li>
    </ul>
  </li>
  <li>다시 말하지만, Go는 당신이 사용해야만 하는 절대적으로 가장 좋은 언어는 아니다.
    <ul>
      <li>하지만 비슷한 나이인 Node에 비해서 (나이에 비해) 아주 성숙하고 견고하다.</li>
      <li>types 리팩토링은 쉽고 단순하고</li>
      <li>profiling, debugging 은 굉장하고</li>
      <li>커뮤니티는 문서, 포맷, 벤치마킹, API 디자인에 대한 강력한 conventions 갖고 있다. (상욱: TJ는 커뮤니티의 컨벤션을 아주 중요하게 생각하는 듯)</li>
    </ul>
  </li>
  <li>Go 를 처음 들었을때 Go stdlib 의 일부는 끔찍하다고 생각했다.
    <ul>
      <li>Node의 ultra-modularity에 익숙해져 있었고</li>
      <li>Ruby의 썩은 stdlib 의 경험이 있었기 때문이다.</li>
      <li>Go언어를 좀더 사용해보고 나는 stdlib의 대부분이 요즘의 프로그램을 만드는데 아주 essential 하다는 사실을 깨달았다. (압축, json, IO, buffered IO, 문자열 조작 등)</li>
      <li>이러한 API들은 잘 정의되어있고 강력하다.</li>
      <li>stdlib만 쓰는 것으로 전체 프로그램을 다 쓸 수 있고, 매우 쉽다.</li>
    </ul>
  </li>
</ul>

<h2 id="third-party-go-packages">Third-party Go packages</h2>

<ul>
  <li>대부분의 Go 라이브러리들은 look and feel이 비슷하고, 내가 써본 대부분의 third-party 코드는 품질이 높다.
    <ul>
      <li>Javascript 는 스킬레벨의 범위가 넓기 때문에 Node에서 좋은 라이브러리를 찾는 일은 어렵다.</li>
      <li>(상욱: JS가 쉬워서 모듈이 난입한다는 느낌은 나도 가졌지만. 이게 JS의 단점이고 Go의 장점이라는 논리는 동의하기 어렵다. ㅎㅎ)</li>
    </ul>
  </li>
  <li>Go 패키지를 위한 중앙 레지스트리는 없다.
    <ul>
      <li>그래서 당신이 5~6개의 같은 패키지네임을 보게될 것이다.</li>
      <li>이것은 약간의 혼란일 수 있지만, side-effect를 가질 수 있기 때문에, 베스트 솔루션을 결정하기 위해 각각을 리뷰해야 한다.</li>
      <li>Node 에는 표준적인 패키지가 있다.
        <ul>
          <li>예를 들면 redis, mongodb-native, zeromq 등.</li>
          <li>그래서 당신은 이것이 가장 좋은 것이라고 가정하고, 리뷰를 하지 않는다.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="go-versus-node">Go versus Node</h2>

<ul>
  <li>만약 당신이 분산 작업을 하고 있다면, 당신은 Go의 동시성이 아주 좋다는 사실을 알게 될 것이다.
    <ul>
      <li>우리는 Node의 generators로 비슷한 것을 얻었다.</li>
      <li>하지만 내 의견은 generators는 Go의 절반만 얻을 수 있다.</li>
      <li>stacks error handling과 reporting을 분리하지 않는 것은 좋게 봐줘도 평범하다. (가장 좋은 방법은 아니다.)</li>
      <li>솔루션을 알고 있으면서도, 커뮤니티가 defragment(단합)가 될때까지 3년을 기다리고 싶지 않다.</li>
    </ul>
  </li>
  <li>내 의견은: Go의 에러핸들링이 더 우수하다.
    <ul>
      <li>Node는 모든 에러에 대해 생각해야만 하고, 무슨일을 할지 생각해야 하고, 당신이 그런 감각이 있는 사람이라면 좋을지도 모른다.</li>
    </ul>
  </li>
  <li>하지만 Node는 실패한다. 왜냐하면:
    <ul>
      <li>you may get duplicate callbacks
        <ul>
          <li>중복 callbacks 을 얻을 수 있다</li>
        </ul>
      </li>
      <li>you may not get a callback at all (lost in limbo)
        <ul>
          <li>callback 을 전혀 얻지 않을 수 있다</li>
        </ul>
      </li>
      <li>you may get out-of-band errors
        <ul>
          <li>out-of-band(책임 범위를 벗어난) 에러를 얻을 수 있다</li>
        </ul>
      </li>
      <li>emitters may get multiple “error” events
        <ul>
          <li>emitters 는 “error” 이벤트 여러개를 얻을 수 있다</li>
        </ul>
      </li>
      <li>missing “error” events sends everything to hell
        <ul>
          <li>“error” 이벤트를 놓치면(받지 않으면) 모든 것은 지옥으로 떨어진다</li>
        </ul>
      </li>
      <li>often unsure what requires “error” handlers
        <ul>
          <li>“error” 핸들러를 요구하는지가 불확실하다</li>
        </ul>
      </li>
      <li>“error” handlers are very verbose
        <ul>
          <li>“error” 핸들러가 아주 장황하다</li>
        </ul>
      </li>
      <li>callbacks suck
        <ul>
          <li>콜백 자체가 똥이다</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Go 에서는 내 코드가 실행이 끝나면, 끝난 거다. 당신은 그 statement를 재실행할 수 없다.
    <ul>
      <li>Node에서는 아니다.</li>
      <li>Node 는 루틴이 완전히 끝났다고 생각해도, 어떤 라이브러리가 갑자기 콜백을 여러번 invoke 하면, 핸들러가 제대로 지워지지 않고, 코드는 재실행될 수 있다.</li>
      <li>이것은 live production code 가 어떻게 동작하고 있는지를 추적하는 것을 어마어마하게 어렵게 만든다.</li>
      <li>왜 괴로워하고 있나? 다른 언어는 당신에게 그런 고통을 주지 않는다구.</li>
    </ul>
  </li>
</ul>

<h2 id="node의-미래">Node의 미래</h2>

<ul>
  <li>나는 여전히 Node 가 잘 할것이라는 희망이 있다.
    <ul>
      <li>많은 사람들이 투자하고 있고, 잠재력도 가지고 있다.</li>
      <li>나는 Joyent 와 개발팀이 사용성에 초점을 맞출 필요가 있다고 생각한다.</li>
      <li>성능은 app이 작으면, 디버깅, 리팩토링, 개발만 어렵게 만든다고 생각한다.</li>
    </ul>
  </li>
  <li>우리는 4~5년 동안 <code class="highlighter-rouge">Error: getaddrinfo EADDRINFO</code> 와 같은 모호한 오류를 봐왔다.
    <ul>
      <li>이것만 봐도, Node 개발자들의 우선순위가 어디에 있는지 알 수 있다.</li>
      <li>당연하지만, 시스템의 core 에 아주 집중하고 있으면 이러한 실수를 할 수도 있다. (Node 개발자들이)</li>
      <li>하지만 사용자들이 계속해서 이러한 것들을 표현했다고 생각하는데, 우리는 결과를 보지 못했다.</li>
    </ul>
  </li>
  <li>Streams 는 깨지고, callbacks 는 좋지 않고, errors 는 모호하고, 도구는 좋지 않고, 커뮤니티는 컨벤션을 가지고 있긴 하지만 Go와 비교하면 부족하다.
    <ul>
      <li>웹사이트를 만들거나 API 또는 프로토타입을 만든다면 Node 를 앞으로도 사용할 것이다.</li>
      <li>만약 Node 가 기본적인 문제들을 고친다면, 좋은 기회 겠지만.</li>
      <li>사용성보다 성능을 우선하는 방향 또는 성능과 사용성을 모두 잡겠다는 방향으로는 해결되지 않을 것이다.</li>
    </ul>
  </li>
  <li>Node 커뮤니티가 generators를 받아들이고 node의 core를 구현하여 에러처리를 잘 만들 수 있다면, 이것은 아주 좋아질 것이고.
    <ul>
      <li>Node의 사용성과 견고함을 매우 개선할 것이다.</li>
    </ul>
  </li>
  <li>누구를 비방할 목적으로 쓴 글이 아니다.</li>
  <li>내가 말하고 싶은 것은, 당신 스스로의 bubble에 갖혀있지 말라는 것이다.
    <ul>
      <li>둘러보면 굉장한 솔루션이 널려 있고. 당신은 다시 재밌게 프로그래밍을 할 수 있다!</li>
    </ul>
  </li>
</ul>

<h2 id="관련-링크들">관련 링크들</h2>

<ul>
  <li><a href="https://medium.com/@ded/why-im-staying-with-node-e6fd3be62e34">반박글: “Why I’m staying with Node (내가 Node에 남아있는 이유)” - @ded</a>
    <ul>
      <li><a href="http://www.mimul.com/pebble/default/2014/07/07/1404732978303.html">하호진님의 번역글</a></li>
    </ul>
  </li>
  <li><a href="https://news.ycombinator.com/item?id=7987146">해커뉴스 토론</a></li>
  <li><a href="http://www.reddit.com/r/programming/comments/29syhg/farewell_nodejs/">레딧 토론</a></li>
</ul>


  </div>
  
</article>

      </div>
    </main>
    <footer class="site-footer">
  <div class="wrapper">

    <h2 class="footer-heading"></h2>

    <div class="footer-col-wrapper">
      <div class="footer-col">
        이상욱,
        scott,
        ISFP,
        <a href="https://www.facebook.com/2sangwook">facebook</a>,
        <a href="https://twitter.com/yiisw">twitter</a>,
        <a href="https://github.com/sangwook">github</a>,
        <a href="https://open.kakao.com/o/sUbQmYl">카카오톡</a>,
        <a href="https://blog.naver.com/yiisw">네이버</a>,
        <a class="page-link" href="http://feeds.feedburner.com/sangwook">RSS</a>
      </div>

      <!-- <div class="footer-col footer-col-2"> -->
      <!--   <ul class="social-media-list"> -->
      <!--     <li> -->
      <!--     </li> -->
      <!--   </ul> -->
      <!-- </div> -->

      <!-- <div class="footer-col footer-col-3"> -->
      <!-- </div> -->
    </div>

  </div>
</footer>


  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-26630011-3', 'auto');
  ga('send', 'pageview');
</script>



  </body>
</html>
