<!DOCTYPE html>
<html lang="ko">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  
  
  
  

  <meta name="title"       content="&quot;TDD는 죽었다&quot; - Rails를 만든 DHH의 글" />
  <meta name="author"      content="이상욱"/>
  <meta name="description" content="Test-first fundamentalism(테스트 우선 근본주의)는 마치 금욕을 하라고만 하는 성교육과 같다. 자기 혐오에 빠져있는 사람을 위한 비현실적이고 실효성없는 도덕교육 같은 것이다. 처음부터 이렇게 생각한건 아니다. 내가 처음 TDD를 발견했을때는, 더 나은 소프트웨어..."/>

  <meta name="og:site_name"    content="이상욱"/>
  <meta name="og:type"         content="article"/>
  <meta name="og:title"        content="&quot;TDD는 죽었다&quot; - Rails를 만든 DHH의 글"/>
  <meta name="og:description"  content="Test-first fundamentalism(테스트 우선 근본주의)는 마치 금욕을 하라고만 하는 성교육과 같다. 자기 혐오에 빠져있는 사람을 위한 비현실적이고 실효성없는 도덕교육 같은 것이다. 처음부터 이렇게 생각한건 아니다. 내가 처음 TDD를 발견했을때는, 더 나은 소프트웨어..."/>
  <meta name="og:url"          content="https://sangwook.github.io/2014/04/25/tdd-is-dead-long-live-testing.html"/>
  <meta name="og:image"        content="https://sangwook.github.io/assets/2016/161011-ubuntu16-screenfetch-d309a0fce49f7abaf5a95f61a72481466e2187b8b361c52f334b03de5a55c92d.jpg"/>
  <meta name="og:image:width"  content="960"/>
  <meta name="og:image:height" content="436"/>

  <meta name="twitter:card"        content="summary_large_image"/>
  <meta name="twitter:site"        content="@yiisw">
  <meta name="twitter:creator"     content="@yiisw">
  <meta name="twitter:title"       content="&quot;TDD는 죽었다&quot; - Rails를 만든 DHH의 글"/>
  <meta name="twitter:description" content="Test-first fundamentalism(테스트 우선 근본주의)는 마치 금욕을 하라고만 하는 성교육과 같다. 자기 혐오에 빠져있는 사람을 위한 비현실적이고 실효성없는 도덕교육 같은 것이다. 처음부터 이렇게 생각한건 아니다. 내가 처음 TDD를 발견했을때는, 더 나은 소프트웨어..."/>
  <meta name="twitter:image"       content="https://sangwook.github.io/assets/2016/161011-ubuntu16-screenfetch-d309a0fce49f7abaf5a95f61a72481466e2187b8b361c52f334b03de5a55c92d.jpg">

  <title>&quot;TDD는 죽었다&quot; - Rails를 만든 DHH의 글</title>

  <link type="text/css" rel="stylesheet" href="/assets/main-caae314880d485d51225e30ff81b77cd77bf8582dcd712eda64afdc9c886713c.css">
  <link rel="alternate" type="application/rss+xml" title="이상욱" href="http://feeds.feedburner.com/sangwook">
  <link rel="shortcut icon" href="https://avatars0.githubusercontent.com/u/123514?s=100">
</head>

  <body>
    <header class="site-header" role="banner">

  <div class="wrapper">

    <a href="/" title="sangwook">
      <span style="background-image: url('https://avatars0.githubusercontent.com/u/123514?s=100'); width:100px; height:100px; display:block;">
      </span>
    </a>

    <div class="about-desc">
      이상욱,
      scott,
      ISFP,
      <a href="https://www.facebook.com/2sangwook">facebook</a>,
      <a href="https://twitter.com/yiisw">twitter</a>,
      <a href="https://github.com/sangwook">github</a>,
      <a href="https://open.kakao.com/o/sUbQmYl">카카오톡</a>,
      <a href="https://blog.naver.com/yiisw">네이버</a>,
      <a class="page-link" href="http://feeds.feedburner.com/sangwook">RSS</a>
    </div>

  </div>

</header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">&quot;TDD는 죽었다&quot; - Rails를 만든 DHH의 글</h1>
    <p class="post-meta"><time datetime="2014-04-25T01:05:00+09:00" itemprop="datePublished">2014-04-25</time>
     <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="name" itemprop="name">이상욱</span></span></p>
  </header>
  <div class="post-content" itemprop="articleBody">
    <ul>
  <li>Test-first fundamentalism(테스트 우선 근본주의)는 마치 금욕을 하라고만 하는 성교육과 같다.
    <ul>
      <li>자기 혐오에 빠져있는 사람을 위한 비현실적이고 실효성없는 도덕교육 같은 것이다.</li>
    </ul>
  </li>
  <li>처음부터 이렇게 생각한건 아니다.
    <ul>
      <li>내가 처음 TDD를 발견했을때는, 더 나은 소프트웨어 개발의 세계에 정중하게 초대받은 느낌이었다.</li>
      <li>테스팅이 없던 세계에서 테스팅의 세계로 이끌렸다.</li>
      <li>잘 테스트된 코드 베이스의 평안함에 눈을 뜨게 해줬다.
        <ul>
          <li>소프트웨어를 변경할 때의 확신, 신뢰에서 오는 기쁨을 알게 되었다.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>“테스트 우선”은 테스팅을 깊은 수준으로 사고하는 방법을 가르쳐주는, “자전거의 보조바퀴”와 같은 훌륭한 도구였다.
    <ul>
      <li>나는 그것을 통해서 테스팅을 깊이 배웠고, 곧바로 보조바퀴 없이 자전거를 탈 수 있게 되었다.</li>
    </ul>
  </li>
  <li>몇년 세월이 흘렀지만 “테스트 우선”이라는 레토릭은 좀더 목소리가 커졌고, 좀더 격렬해졌고, 좀더 Mean-spirited(비열한, 옹졸한) 해졌다.
    <ul>
      <li>나도 근본주의에 들어가서 진정한 교리(true gospel)를 따르지 않는 것은 나쁜 일이라고 느낄 수도 있었다.</li>
      <li>그래서 “테스트 우선”을 몇 주 해봤지만, 내 디자인을 나쁘게 만들어서 관뒀다.</li>
    </ul>
  </li>
  <li>테스트 우선의 가르침을 지킬 수 있을때와 지킬 수 없을때의 절망감으로 내 자신감은 왔다 갔다 했다.
    <ul>
      <li>교리를 지키지 않으면 난 열차에서 내려진 기분이었다.</li>
      <li>이것에 대해선 침묵하고 있어야 했다.</li>
      <li>공개적으로 얘기해선 안 된다.</li>
      <li>공개적으로는, 난 테스트 우선을 항상 하고 있는 것은 아니라고 넌지시 얘기하는게 내가 할 수 있는 최선이었다.
        <ul>
          <li>최악은, 테스트 우선을 “올바른 방법”이라고 지지까지 해오고 있었다.</li>
        </ul>
      </li>
      <li>지금은 후회하고 있다.</li>
    </ul>
  </li>
  <li>아마 처음엔 “테스트 우선”을 사용해서 자동화된 회귀 테스팅이 존재하지 않는다는 업계의 믿음을 깰 필요가 있었을지 모른다.
    <ul>
      <li>어쩌면 처음엔 소프트웨어를 매일 만드는 작업에 그대로 사용할 생각이 아닌, 단지 비유적인 표현이었을지도 모른다.</li>
      <li>하지만 그게 어떻게 시작되었든, 지금은 타락했다.</li>
      <li>불신자들을 때리는 망치로 사용되고, 소프트웨어를 개발하는데 적합하지 않은 비전문가를 규정했다.</li>
      <li>리트머스 시험지가 되었다.</li>
    </ul>
  </li>
  <li>충분하다.
    <ul>
      <li>이제 관두자.</li>
      <li>내 이름은 David.</li>
      <li>난 테스트를 먼저 개발하지 않는다.</li>
      <li>난 이것에 대해 사과할 생각이 없고, 숨기지 않겠다.</li>
      <li>자동화된 회귀테스팅에 눈을 뜨게 해준 TDD에 감사하지만, 디자인의 교리로는 사용하지 않게 되었다.</li>
    </ul>
  </li>
  <li>테스트 우선 접근이 당신의 시스템 설계의 무결성과 일관성에 어떤 영향을 주고 있을지 엄격히 검토하기 바란다.
    <ul>
      <li>만약 좋은 것이 아닐 가능성이 있다는 것을 진지하게 고민해 본다면, 당신은 빨간약을 먹게 될지도 모른다.</li>
      <li>그 후에 보이는 것이 마음에 안 들지도 모른다.</li>
    </ul>
  </li>
</ul>

<h2 id="그래서-우리는-어디로-가야-하나">그래서 우리는 어디로 가야 하나?</h2>

<ul>
  <li>첫 단계로, 문제가 있다는 것은 인정하자.
    <ul>
      <li>두번째 단계는, unit 부터 system 사이의 테스팅 스펙트럼의 균형을 잡는 것이다.</li>
      <li>현재의 광신적인 TDD 운동은 unit 테스트를 포커스하는 경향이 있다.
        <ul>
          <li>왜냐하면 코드의 디자인을 driving 하는 것이 unit 테스트이기 때문이다.</li>
          <li>(이것이 테스트 우선의 명분이다.)</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>좋은 생각으로 보이지 않는다.
    <ul>
      <li>테스트 우선 방식의 unit 테스트는 중계(intermediary) 객체들이 얽혀있는 과도하게 복잡한 구조를 만들기 쉽다.</li>
      <li>또한 “느린” 것은 모두 피하기 위해서, 데이터베이스 및 파일IO 같은 것들은 피한다.</li>
      <li>브라우저를 사용해서 시스템 전체를 테스트 하는 것도 피하려고 한다.</li>
      <li>결국, 정말 무섭고 거대한 구조가 만들어 진다.</li>
      <li>서비스 객체와 커맨드 패턴, 그리고 더 나쁜것들이 얽힌 정글이다.</li>
    </ul>
  </li>
  <li>모든 의존 관계를 mock 객체로 만들고, 수천개의 테스트가 몇 초 안에 끝나는 등의 전통적인 의미에서의 unit 테스트는 나는 거의 하지 않는다.
    <ul>
      <li>그건 Rails 앱을 테스트하는데 좋은 방법이 아니다.</li>
      <li>나는 액티브 레코드 모델을 직접적으로 테스트 한다. 데이터베이스에 접근하도록 하고, fixtures를 사용해 테스트 한다.</li>
      <li>탑 레이어에는 컨트롤러 테스트가 있지만, 난 Capybara 같은 도구를 사용해서 높은 수준의 시스템 테스트로 대체하는 것을 선호한다.</li>
    </ul>
  </li>
  <li>이것이 우리가 가야할 방향이라고 난 생각한다.
    <ul>
      <li>unit 테스트의 중요도를 낮춘다.</li>
      <li>왜냐하면 더이상 디자인 Practice로 테스트 우선 방식을 수행하지 않기 때문이다.</li>
      <li>그리고 system 테스트의 우선순위를 높인다. (맞다 느린 테스트 말이다.)
        <ul>
          <li>(하지만 병렬로 클라우드 위에서 실행되는 인프라 덕에 예전처럼 그렇게 느리진 않다.)</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Rails는 이러한 전환에 도움을 줄 수 있다.
    <ul>
      <li>오늘 우리는 전체 system 테스트를 장려하기 위해 아무것도 하지 않았다. Today we do nothing to encourage full system tests.</li>
      <li>stack에는 정답이 없다. There’s no default answer in the stack.</li>
      <li>우리는 실수를 조금씩 고쳐나갈 것이다.</li>
      <li>하지만 당신은 그걸 기다리고 있지 않아도 된다.</li>
      <li><a href="https://github.com/jnicklas/capybara">Capybara</a>에 들어오면 우리가 어떤 방향으로 가고 있는지 알 수 있을 것이다.</li>
    </ul>
  </li>
  <li>심호흡을 한 번 하자.
    <ul>
      <li>우리가 지금 하고있는 것은 성스러운 소를 죽이는 일이다.</li>
      <li>고통스럽고 피도 많이 나온다.</li>
      <li>TDD는 크게 성공해왔다.</li>
      <li>이제 TDD는 단순한 기술이 아니라 그들 자신이 되었다.</li>
      <li>커뮤니티를 deprogramming 하려면 시간이 필요하다.</li>
    </ul>
  </li>
  <li>최악의 방법은, 또다른 테스팅 종교를 전파하는 것이다.
    <ul>
      <li>“system 테스트가 전부야!” 와 같은 방식 말이다.</li>
      <li>제발 그렇게 되지 않았으면 한다.</li>
    </ul>
  </li>
  <li>이렇게 나에게 “테스트 우선”은 죽었다.
    <ul>
      <li>하지만 무덤 위에서 춤을 추는게 아니라, 공헌을 기리고 싶다.</li>
      <li>우리 역사의 중요한 부분을 새겼다.</li>
      <li>이제 다음으로 넘어갈 시점이다.</li>
    </ul>
  </li>
</ul>

<p>Long live testing. (“영원하라 테스팅” 또는 “테스팅 만세”)</p>

<ul>
  <li>원문: <a href="http://david.heinemeierhansson.com/2014/tdd-is-dead-long-live-testing.html">TDD is dead. Long live testing. (DHH)</a></li>
  <li><a href="https://news.ycombinator.com/item?id=7633254">Hacker News 스레드 https://news.ycombinator.com/item?id=7633254</a></li>
  <li><a href="http://www.reddit.com/r/programming/comments/23rmdw/tdd_is_dead_long_live_testing_dhh/">Reddit 스레드 http://www.reddit.com/r/programming/comments/23rmdw/tdd_is_dead_long_live_testing_dhh/</a></li>
  <li><a href="http://www.reddit.com/r/PHP/comments/23rmjv/tdd_is_dead_long_live_testing_dhh/">Reddit PHP방의 스레드 http://www.reddit.com/r/PHP/comments/23rmjv/tdd_is_dead_long_live_testing_dhh/</a></li>
  <li><a href="https://www.facebook.com/groups/django/permalink/675245712511931/">Python Django 한국 페이스북 그룹의 의견들</a></li>
  <li><a href="https://www.facebook.com/groups/rubykr/permalink/783330745012955/">Ruby 한국 페이스북 그룹의 의견들</a></li>
  <li><a href="https://groups.google.com/forum/#!topic/xper/b86uY2OZJ5w">xper 구글 구룹의 스레드</a></li>
  <li><a href="http://solnic.eu/2014/04/23/tdd-is-fun.html">이 글에 대한 반박글: “TDD Is Fun”</a></li>
  <li><a href="http://blog.8thlight.com/uncle-bob/2014/04/25/MonogamousTDD.html">클린코드 저자 엉클밥의 글: “Monogamous TDD”</a></li>
  <li><a href="https://twitter.com/martinfowler/status/460170854119510017">트위터 토론: DHH vs. 마틴 파울러 vs. 엉클밥 vs. 데이브 토마스(“실용주의 프로그래머” 저자)</a></li>
  <li><a href="https://www.facebook.com/notes/kent-beck/rip-tdd/750840194948847">TDD를 처음 주장했던 Kent Beck이 쓴 “RIP TDD”</a></li>
  <li><a href="https://www.youtube.com/watch?v=9LfmrkyP81M">DHH의 키노트 동영상 “RailsConf 2014 - Keynote: Writing Software”</a></li>
  <li><a href="https://plus.google.com/events/ci2g23mk0lh9too9bgbp3rbut0k">마틴 파울러, 켄트 백, DHH이 5월10일 오전 0시에 구글 행아웃에서 토론을 하기로 함</a></li>
</ul>

<p>내 감상</p>
<ul>
  <li>만약 제목이 “unit 테스트 보다 system 테스트의 우선순위를 높이자” 였다면 이 글은 아무도 안 읽었을 것이다.</li>
  <li>예전에 DHH의 “스타트업이 돈을 버는 방법” 이라는 컨퍼런스 영상을 본 일이 있는데.</li>
  <li>DHH는 참 마케팅을 잘 한다.</li>
  <li>그것이 Ruby On Rails가 한 때 매우 성공했던 이유이기도 하고.</li>
</ul>

  </div>
  
</article>

      </div>
    </main>
    <footer class="site-footer">
  <div class="wrapper">

    <h2 class="footer-heading"></h2>

    <div class="footer-col-wrapper">
      <div class="footer-col">
        이상욱,
        scott,
        ISFP,
        <a href="https://www.facebook.com/2sangwook">facebook</a>,
        <a href="https://twitter.com/yiisw">twitter</a>,
        <a href="https://github.com/sangwook">github</a>,
        <a href="https://open.kakao.com/o/sUbQmYl">카카오톡</a>,
        <a href="https://blog.naver.com/yiisw">네이버</a>,
        <a class="page-link" href="http://feeds.feedburner.com/sangwook">RSS</a>
      </div>

      <!-- <div class="footer-col footer-col-2"> -->
      <!--   <ul class="social-media-list"> -->
      <!--     <li> -->
      <!--     </li> -->
      <!--   </ul> -->
      <!-- </div> -->

      <!-- <div class="footer-col footer-col-3"> -->
      <!-- </div> -->
    </div>

  </div>
</footer>


  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-26630011-3', 'auto');
  ga('send', 'pageview');
</script>



  </body>
</html>
